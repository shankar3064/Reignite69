<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Community Forum - Reignite Community Hub</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Freignite2851back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.5"></script>
</head>
<body class="bg-background min-h-screen">
    <!-- Header -->
    <header class="bg-surface border-b border-border sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16 sm:h-20">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="homepage.html" class="flex items-center space-x-3">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 bg-primary rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 sm:w-7 sm:h-7 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                            </svg>
                        </div>
                        <span class="text-xl sm:text-2xl font-heading font-bold text-text-primary">Reignite</span>
                    </a>
                </div>
                
                <!-- Search Bar with Voice Assistant -->
                <div class="hidden md:flex flex-1 max-w-lg mx-8">
                    <div class="relative w-full">
                        <input type="text" placeholder="Search discussions..." class="w-full pl-10 pr-12 py-3 border border-border rounded-lg bg-surface text-text-primary placeholder-text-secondary focus:border-primary focus:ring-2 focus:ring-primary-100 transition-all duration-200" id="searchInput" />
                        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-text-secondary" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                        </svg>
                        <button type="button" class="absolute right-3 top-1/2 transform -translate-y-1/2 voice-button p-2" title="Voice search">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                                <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Navigation & Actions -->
                <div class="flex items-center space-x-4">
                    <!-- New Discussion Button -->
                    <button class="btn-primary px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base" onclick="showNewDiscussionModal()">
                        <svg class="w-4 h-4 sm:w-5 sm:h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                        </svg>
                        <span class="hidden sm:inline">New Discussion</span>
                        <span class="sm:hidden">New</span>
                    </button>

                    <!-- Navigation Menu -->
                    <nav class="hidden lg:flex items-center space-x-6">
                        <a href="homepage.html" class="text-text-secondary hover:text-primary transition-colors duration-200">Home</a>
                        <a href="event_details.html" class="text-text-secondary hover:text-primary transition-colors duration-200">Events</a>
                        <a href="my_enrolled_events.html" class="text-text-secondary hover:text-primary transition-colors duration-200">My Events</a>
                        <a href="community_forum.html" class="text-primary font-semibold">Forum</a>
                        <a href="wellness_resources.html" class="text-text-secondary hover:text-primary transition-colors duration-200">Wellness</a>
                    </nav>

                    <!-- Mobile Menu Button -->
                    <button class="lg:hidden p-2" onclick="toggleMobileMenu()">
                        <svg class="w-6 h-6 text-text-primary" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Mobile Search Bar -->
            <div class="md:hidden pb-4">
                <div class="relative">
                    <input type="text" placeholder="Search discussions..." class="w-full pl-10 pr-12 py-3 border border-border rounded-lg bg-surface text-text-primary placeholder-text-secondary focus:border-primary focus:ring-2 focus:ring-primary-100 transition-all duration-200" />
                    <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-text-secondary" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                    </svg>
                    <button type="button" class="absolute right-3 top-1/2 transform -translate-y-1/2 voice-button p-2" title="Voice search">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                            <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Mobile Navigation Menu -->
            <div id="mobileMenu" class="lg:hidden hidden border-t border-border pt-4 pb-4">
                <nav class="flex flex-col space-y-3">
                    <a href="homepage.html" class="text-text-secondary hover:text-primary transition-colors duration-200 py-2">Home</a>
                    <a href="event_details.html" class="text-text-secondary hover:text-primary transition-colors duration-200 py-2">Events</a>
                    <a href="my_enrolled_events.html" class="text-text-secondary hover:text-primary transition-colors duration-200 py-2">My Events</a>
                    <a href="community_forum.html" class="text-primary font-semibold py-2">Forum</a>
                    <a href="wellness_resources.html" class="text-text-secondary hover:text-primary transition-colors duration-200 py-2">Wellness</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8">
        <div class="lg:grid lg:grid-cols-12 lg:gap-8">
            <!-- Left Sidebar - Categories (Desktop) -->
            <aside class="hidden lg:block lg:col-span-3">
                <div class="bg-surface rounded-xl shadow-sm border border-border p-6 sticky top-24">
                    <h2 class="text-xl font-heading font-semibold text-text-primary mb-4">Categories</h2>
                    <nav class="space-y-2">
                        <a href="javascript:void(0)" onclick="filterByCategory('all')" class="category-filter active flex items-center space-x-3 p-3 rounded-lg hover:bg-primary-50 transition-colors duration-200">
                            <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                            <span class="text-text-primary font-medium">All Topics</span>
                        </a>
                        <a href="javascript:void(0)" onclick="filterByCategory('healthy-living')" class="category-filter flex items-center space-x-3 p-3 rounded-lg hover:bg-primary-50 transition-colors duration-200">
                            <svg class="w-5 h-5 text-secondary" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                            <span class="text-text-primary">Healthy Living</span>
                        </a>
                        <a href="javascript:void(0)" onclick="filterByCategory('local-events')" class="category-filter flex items-center space-x-3 p-3 rounded-lg hover:bg-primary-50 transition-colors duration-200">
                            <svg class="w-5 h-5 text-accent" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                            </svg>
                            <span class="text-text-primary">Local Events</span>
                        </a>
                        <a href="javascript:void(0)" onclick="filterByCategory('hobbies')" class="category-filter flex items-center space-x-3 p-3 rounded-lg hover:bg-primary-50 transition-colors duration-200">
                            <svg class="w-5 h-5 text-warning" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                            <span class="text-text-primary">Hobbies</span>
                        </a>
                        <a href="javascript:void(0)" onclick="filterByCategory('technology')" class="category-filter flex items-center space-x-3 p-3 rounded-lg hover:bg-primary-50 transition-colors duration-200">
                            <svg class="w-5 h-5 text-primary" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20 3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h3l-1 1v1h12v-1l-1-1h3c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H4V5h16v11z"/>
                            </svg>
                            <span class="text-text-primary">Technology Help</span>
                        </a>
                    </nav>
                </div>
            </aside>

            <!-- Main Content Area -->
            <div class="lg:col-span-6">
                <!-- Page Header -->
                <div class="mb-6 sm:mb-8">
                    <h1 class="text-2xl sm:text-3xl font-heading font-bold text-text-primary mb-2">Community Forum</h1>
                    <p class="text-lg text-text-secondary">Connect with fellow community members and share your experiences</p>
                </div>

                <!-- Mobile Category Filter -->
                <div class="lg:hidden mb-6">
                    <select class="form-input text-lg" onchange="filterByCategory(this.value)">
                        <option value="all">All Categories</option>
                        <option value="healthy-living">Healthy Living</option>
                        <option value="local-events">Local Events</option>
                        <option value="hobbies">Hobbies</option>
                        <option value="technology">Technology Help</option>
                    </select>
                </div>

                <!-- Category Cards (Mobile) -->
                <div class="lg:hidden grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
                    <div class="bg-surface rounded-xl shadow-sm border border-border p-6 hover:shadow-md transition-shadow duration-200">
                        <div class="flex items-center space-x-3 mb-3">
                            <div class="w-10 h-10 bg-secondary-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-secondary" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h3 class="text-lg font-heading font-semibold text-text-primary">Healthy Living</h3>
                        </div>
                        <p class="text-text-secondary text-sm mb-3">Share wellness tips and healthy lifestyle advice</p>
                        <div class="flex items-center justify-between text-sm">
                            <span class="text-text-secondary">24 discussions</span>
                            <span class="text-text-secondary">2 hours ago</span>
                        </div>
                    </div>

                    <div class="bg-surface rounded-xl shadow-sm border border-border p-6 hover:shadow-md transition-shadow duration-200">
                        <div class="flex items-center space-x-3 mb-3">
                            <div class="w-10 h-10 bg-accent-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-accent" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                                </svg>
                            </div>
                            <h3 class="text-lg font-heading font-semibold text-text-primary">Local Events</h3>
                        </div>
                        <p class="text-text-secondary text-sm mb-3">Discover and discuss community events</p>
                        <div class="flex items-center justify-between text-sm">
                            <span class="text-text-secondary">18 discussions</span>
                            <span class="text-text-secondary">4 hours ago</span>
                        </div>
                    </div>

                    <div class="bg-surface rounded-xl shadow-sm border border-border p-6 hover:shadow-md transition-shadow duration-200">
                        <div class="flex items-center space-x-3 mb-3">
                            <div class="w-10 h-10 bg-warning-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-warning" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h3 class="text-lg font-heading font-semibold text-text-primary">Hobbies</h3>
                        </div>
                        <p class="text-text-secondary text-sm mb-3">Share your interests and find hobby partners</p>
                        <div class="flex items-center justify-between text-sm">
                            <span class="text-text-secondary">31 discussions</span>
                            <span class="text-text-secondary">1 hour ago</span>
                        </div>
                    </div>

                    <div class="bg-surface rounded-xl shadow-sm border border-border p-6 hover:shadow-md transition-shadow duration-200">
                        <div class="flex items-center space-x-3 mb-3">
                            <div class="w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-primary" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M20 3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h3l-1 1v1h12v-1l-1-1h3c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H4V5h16v11z"/>
                                </svg>
                            </div>
                            <h3 class="text-lg font-heading font-semibold text-text-primary">Technology Help</h3>
                        </div>
                        <p class="text-text-secondary text-sm mb-3">Get help with technology and digital tools</p>
                        <div class="flex items-center justify-between text-sm">
                            <span class="text-text-secondary">15 discussions</span>
                            <span class="text-text-secondary">3 hours ago</span>
                        </div>
                    </div>
                </div>

                <!-- Recent Discussions -->
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <h2 class="text-xl sm:text-2xl font-heading font-semibold text-text-primary">Recent Discussions</h2>
                        <button class="voice-button p-2" title="Listen to discussions" data-voice-action="read" aria-label="Read discussions aloud">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                            </svg>
                        </button>
                    </div>

                    <!-- Discussion Thread 1 -->
                    <article class="discussion-thread bg-surface rounded-xl shadow-sm border border-border p-6 hover:shadow-md transition-shadow duration-200" data-category="healthy-living">
                        <div class="flex items-start space-x-4">
                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="User Avatar" class="w-12 h-12 rounded-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-2">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800">
                                        Healthy Living
                                    </span>
                                    <span class="text-text-secondary text-sm">•</span>
                                    <span class="text-text-secondary text-sm">2 hours ago</span>
                                </div>
                                <h3 class="text-lg font-heading font-semibold text-text-primary mb-2 hover:text-primary cursor-pointer">
                                    Best Morning Exercise Routines for Seniors
                                </h3>
                                <p class="text-text-secondary mb-3">
                                    I've been looking for gentle morning exercises that are suitable for seniors. What routines have worked well for you? I'm particularly interested in exercises that can help with joint mobility and balance...
                                </p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-4 text-sm text-text-secondary">
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                            </svg>
                                            <span>By Robert Lim</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M21 6h-2l-1-2H6L5 6H3c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/>
                                            </svg>
                                            <span>12 replies</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                            </svg>
                                            <span>8 likes</span>
                                        </span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="p-2 text-text-secondary hover:text-primary transition-colors duration-200" title="Bookmark">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                                            </svg>
                                        </button>
                                        <button class="p-2 text-text-secondary hover:text-primary transition-colors duration-200" title="Share">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>

                    <!-- Discussion Thread 2 -->
                    <article class="discussion-thread bg-surface rounded-xl shadow-sm border border-border p-6 hover:shadow-md transition-shadow duration-200" data-category="local-events">
                        <div class="flex items-start space-x-4">
                            <img src="https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2" alt="User Avatar" class="w-12 h-12 rounded-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-2">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent-100 text-accent-800">
                                        Local Events
                                    </span>
                                    <span class="text-text-secondary text-sm">•</span>
                                    <span class="text-text-secondary text-sm">4 hours ago</span>
                                </div>
                                <h3 class="text-lg font-heading font-semibold text-text-primary mb-2 hover:text-primary cursor-pointer">
                                    Toa Payoh Community Center Chinese New Year Celebration
                                </h3>
                                <p class="text-text-secondary mb-3">
                                    Has anyone attended the Chinese New Year celebration at Toa Payoh Community Center before? I'm thinking of going this year and would love to know what to expect. Are there any special performances or activities?
                                </p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-4 text-sm text-text-secondary">
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                            </svg>
                                            <span>By Susan Wong</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M21 6h-2l-1-2H6L5 6H3c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/>
                                            </svg>
                                            <span>7 replies</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                            </svg>
                                            <span>5 likes</span>
                                        </span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="p-2 text-text-secondary hover:text-primary transition-colors duration-200" title="Bookmark">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                                            </svg>
                                        </button>
                                        <button class="p-2 text-text-secondary hover:text-primary transition-colors duration-200" title="Share">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>

                    <!-- Discussion Thread 3 -->
                    <article class="discussion-thread bg-surface rounded-xl shadow-sm border border-border p-6 hover:shadow-md transition-shadow duration-200" data-category="technology">
                        <div class="flex items-start space-x-4">
                            <img src="https://images.pixabay.com/photo/2016/11/21/12/42/beard-1845166_1280.jpg" alt="User Avatar" class="w-12 h-12 rounded-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-2">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800">
                                        Technology Help
                                    </span>
                                    <span class="text-text-secondary text-sm">•</span>
                                    <span class="text-text-secondary text-sm">6 hours ago</span>
                                </div>
                                <h3 class="text-lg font-heading font-semibold text-text-primary mb-2 hover:text-primary cursor-pointer">
                                    Help with Video Calling on WhatsApp
                                </h3>
                                <p class="text-text-secondary mb-3">
                                    I'm having trouble making video calls on WhatsApp to my grandchildren. The call connects but I can't see their faces clearly. Can someone help me with the settings? I'm using a Samsung phone.
                                </p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-4 text-sm text-text-secondary">
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                            </svg>
                                            <span>By David Tan</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M21 6h-2l-1-2H6L5 6H3c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/>
                                            </svg>
                                            <span>9 replies</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                            </svg>
                                            <span>6 likes</span>
                                        </span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="p-2 text-text-secondary hover:text-primary transition-colors duration-200" title="Bookmark">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                                            </svg>
                                        </button>
                                        <button class="p-2 text-text-secondary hover:text-primary transition-colors duration-200" title="Share">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>

                    <!-- Discussion Thread 4 -->
                    <article class="discussion-thread bg-surface rounded-xl shadow-sm border border-border p-6 hover:shadow-md transition-shadow duration-200" data-category="hobbies">
                        <div class="flex items-start space-x-4">
                            <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="User Avatar" class="w-12 h-12 rounded-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-2">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-warning-100 text-warning-800">
                                        Hobbies
                                    </span>
                                    <span class="text-text-secondary text-sm">•</span>
                                    <span class="text-text-secondary text-sm">1 day ago</span>
                                </div>
                                <h3 class="text-lg font-heading font-semibold text-text-primary mb-2 hover:text-primary cursor-pointer">
                                    Looking for Gardening Partners in Jurong West
                                </h3>
                                <p class="text-text-secondary mb-3">
                                    I have a small community garden plot in Jurong West and would love to find some gardening partners to share the experience. We could grow vegetables together and share the harvest. Anyone interested?
                                </p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-4 text-sm text-text-secondary">
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                            </svg>
                                            <span>By Margaret Lee</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M21 6h-2l-1-2H6L5 6H3c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/>
                                            </svg>
                                            <span>14 replies</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                            </svg>
                                            <span>11 likes</span>
                                        </span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="p-2 text-text-secondary hover:text-primary transition-colors duration-200" title="Bookmark">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"/>
                                            </svg>
                                        </button>
                                        <button class="p-2 text-text-secondary hover:text-primary transition-colors duration-200" title="Share">
                                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>

                <!-- Load More Button -->
                <div class="text-center mt-8">
                    <button class="btn-outline px-8 py-3">
                        Load More Discussions
                    </button>
                </div>
            </div>

            <!-- Right Sidebar - Popular This Week -->
            <aside class="hidden lg:block lg:col-span-3">
                <div class="space-y-6">
                    <!-- Popular This Week -->
                    <div class="bg-surface rounded-xl shadow-sm border border-border p-6 sticky top-24">
                        <h2 class="text-xl font-heading font-semibold text-text-primary mb-4">Popular This Week</h2>
                        <div class="space-y-4">
                            <div class="border-b border-border-light pb-4 last:border-b-0 last:pb-0">
                                <h4 class="font-semibold text-text-primary text-sm mb-1 hover:text-primary cursor-pointer">
                                    Tai Chi Classes at Bedok Community Center
                                </h4>
                                <p class="text-text-secondary text-xs mb-2">
                                    Great discussion about beginner-friendly tai chi sessions...
                                </p>
                                <div class="flex items-center justify-between text-xs text-text-secondary">
                                    <span>23 replies</span>
                                    <span>2 hours ago</span>
                                </div>
                            </div>
                            
                            <div class="border-b border-border-light pb-4 last:border-b-0 last:pb-0">
                                <h4 class="font-semibold text-text-primary text-sm mb-1 hover:text-primary cursor-pointer">
                                    Best Hawker Centers for Seniors
                                </h4>
                                <p class="text-text-secondary text-xs mb-2">
                                    Sharing recommendations for senior-friendly dining spots...
                                </p>
                                <div class="flex items-center justify-between text-xs text-text-secondary">
                                    <span>18 replies</span>
                                    <span>4 hours ago</span>
                                </div>
                            </div>
                            
                            <div class="border-b border-border-light pb-4 last:border-b-0 last:pb-0">
                                <h4 class="font-semibold text-text-primary text-sm mb-1 hover:text-primary cursor-pointer">
                                    Digital Banking Tips for Seniors
                                </h4>
                                <p class="text-text-secondary text-xs mb-2">
                                    Step-by-step guide for safe online banking...
                                </p>
                                <div class="flex items-center justify-between text-xs text-text-secondary">
                                    <span>15 replies</span>
                                    <span>6 hours ago</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Community Stats -->
                    <div class="bg-surface rounded-xl shadow-sm border border-border p-6">
                        <h2 class="text-xl font-heading font-semibold text-text-primary mb-4">Community Stats</h2>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between">
                                <span class="text-text-secondary">Total Members</span>
                                <span class="font-semibold text-text-primary">2,847</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-text-secondary">Active Today</span>
                                <span class="font-semibold text-text-primary">156</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-text-secondary">New Discussions</span>
                                <span class="font-semibold text-text-primary">12</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-text-secondary">Total Discussions</span>
                                <span class="font-semibold text-text-primary">1,234</span>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <!-- New Discussion Modal -->
    <div id="newDiscussionModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-surface rounded-xl p-6 sm:p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-heading font-semibold text-text-primary">Start New Discussion</h2>
                <button onclick="hideNewDiscussionModal()" class="p-2 text-text-secondary hover:text-text-primary">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
            </div>

            <form class="space-y-6">
                <!-- Category Selection -->
                <div class="space-y-2">
                    <label class="block text-lg font-semibold text-text-primary">Category *</label>
                    <select class="form-input text-lg" required>
                        <option value>Select a category</option>
                        <option value="healthy-living">Healthy Living</option>
                        <option value="local-events">Local Events</option>
                        <option value="hobbies">Hobbies</option>
                        <option value="technology">Technology Help</option>
                    </select>
                </div>

                <!-- Discussion Title -->
                <div class="space-y-2">
                    <label class="block text-lg font-semibold text-text-primary">Discussion Title *</label>
                    <div class="relative">
                        <input type="text" class="form-input text-lg pr-12" placeholder="Enter your discussion title" required />
                        <button type="button" class="absolute right-3 top-1/2 transform -translate-y-1/2 voice-button p-2" title="Voice input">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                                <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Discussion Message -->
                <div class="space-y-2">
                    <label class="block text-lg font-semibold text-text-primary">Your Message *</label>
                    <div class="relative">
                        <textarea class="form-input text-lg min-h-[120px] resize-vertical pr-12" placeholder="Share your thoughts, ask questions, or start a conversation..." required></textarea>
                        <button type="button" class="absolute right-3 top-3 voice-button p-2" title="Voice input">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                                <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-4 pt-4">
                    <button type="button" onclick="hideNewDiscussionModal()" class="btn-outline flex-1 py-3">
                        Cancel
                    </button>
                    <button type="submit" class="btn-primary flex-1 py-3">
                        Start Discussion
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="../js/voice-assistant.js"></script>
    <script>
        // Mobile menu toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('hidden');
        }

        // New discussion modal
        function showNewDiscussionModal() {
            document.getElementById('newDiscussionModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function hideNewDiscussionModal() {
            document.getElementById('newDiscussionModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Category filtering with voice feedback
        function filterByCategory(category) {
            const discussions = document.querySelectorAll('.discussion-thread');
            const categoryFilters = document.querySelectorAll('.category-filter');
            
            // Voice feedback for category change
            if (window.voiceAssistant) {
                const categoryName = category === 'all' ? 'all topics' : category.replace('-', ' ');
                window.voiceAssistant.speak(`Showing ${categoryName} discussions`);
            }
            
            // Update active filter
            categoryFilters.forEach(filter => {
                filter.classList.remove('active');
            });
            
            if (category === 'all') {
                discussions.forEach(discussion => {
                    discussion.style.display = 'block';
                });
                document.querySelector('[onclick="filterByCategory(\'all\')"]').classList.add('active');
            } else {
                discussions.forEach(discussion => {
                    if (discussion.dataset.category === category) {
                        discussion.style.display = 'block';
                    } else {
                        discussion.style.display = 'none';
                    }
                });
                document.querySelector(`[onclick="filterByCategory('${category}')"]`).classList.add('active');
            }
        }

        // Enhanced search functionality with voice support
        document.getElementById('searchInput')?.addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const discussions = document.querySelectorAll('.discussion-thread');
            
            discussions.forEach(discussion => {
                const title = discussion.querySelector('h3').textContent.toLowerCase();
                const content = discussion.querySelector('p').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || content.includes(searchTerm)) {
                    discussion.style.display = 'block';
                } else {
                    discussion.style.display = 'none';
                }
            });
        });

        // Enhanced voice assistant integration for forum
        document.addEventListener('DOMContentLoaded', function() {
            // Setup voice buttons in discussion form
            const titleInput = document.querySelector('#newDiscussionModal input[type="text"]');
            const messageTextarea = document.querySelector('#newDiscussionModal textarea');
            
            if (titleInput && messageTextarea) {
                // Add voice input functionality to title field
                const titleVoiceBtn = titleInput.nextElementSibling;
                if (titleVoiceBtn && titleVoiceBtn.classList.contains('voice-button')) {
                    titleVoiceBtn.setAttribute('data-voice-action', 'dictate');
                    titleVoiceBtn.addEventListener('click', function() {
                        if (window.voiceAssistant) {
                            window.voiceAssistant.speak("What would you like the title to be?");
                            setTimeout(() => {
                                window.voiceAssistant.startListening();
                                window.voiceAssistant.currentTargetInput = titleInput;
                            }, 1500);
                        }
                    });
                }
                
                // Add voice input functionality to message field
                const messageVoiceBtn = messageTextarea.nextElementSibling;
                if (messageVoiceBtn && messageVoiceBtn.classList.contains('voice-button')) {
                    messageVoiceBtn.setAttribute('data-voice-action', 'dictate');
                    messageVoiceBtn.addEventListener('click', function() {
                        if (window.voiceAssistant) {
                            window.voiceAssistant.speak("Please tell me your message");
                            setTimeout(() => {
                                window.voiceAssistant.startListening();
                                window.voiceAssistant.currentTargetInput = messageTextarea;
                            }, 1500);
                        }
                    });
                }
            }
            
            // Setup search voice button
            const searchVoiceBtn = document.querySelector('.relative .voice-button');
            if (searchVoiceBtn) {
                searchVoiceBtn.setAttribute('data-voice-action', 'search');
                searchVoiceBtn.setAttribute('aria-label', 'Voice search discussions');
            }
        });

        // Form submission with voice feedback
        document.querySelector('#newDiscussionModal form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            
            if</script></body></html>